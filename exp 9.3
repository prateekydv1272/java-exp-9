Session session = factory.openSession();
Transaction tx = null;

try {
    tx = session.beginTransaction();

    // Database operations
    Student s1 = new Student();
    s1.setName("Rohit");
    session.save(s1);

    Student s2 = new Student();
    s2.setName("Aditi");
    session.save(s2);

    // Commit transaction
    tx.commit();
} catch (Exception e) {
    if (tx != null) {
        tx.rollback();  // Rollback in case of an error
    }
    e.printStackTrace();
} finally {
    session.close();
}
